<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AeroReach â€” My Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#020617;
    --panel:#0f172a;
    --accent:#3b82f6;
    --accent-soft:#60a5fa;
    --text:#e5e7eb;
    --muted:#94a3b8;
  }

  *{box-sizing:border-box;}

  body{
    margin:0;
    background:radial-gradient(circle at top,#1e3a8a 0,#020617 65%);
    font-family:"Inter",sans-serif;
    color:var(--text);
    min-height:100vh;
    display:flex;
    justify-content:center;
    padding:14px;
  }

  .wrap{
    width:100%;
    max-width:480px;
  }

  /* HEADER */
  .hero{
    padding:22px;
    border-radius:18px;
    background:linear-gradient(135deg,#1e3a8a,#0f172a);
    box-shadow:0 0 40px rgba(59,130,246,.25);
    margin-bottom:20px;
  }

  .hero h1{
    margin:0;
    font-size:22px;
    font-weight:700;
    color:#60a5fa;
  }

  .hero small{
    font-size:13px;
    color:#cbd5e1;
    opacity:.85;
  }

  /* PROFILE SECTION */
  .profile{
    background:rgba(15,23,42,.8);
    border:1px solid #1e293b;
    border-radius:16px;
    padding:16px 18px;
    margin-bottom:20px;
    backdrop-filter:blur(10px);
  }

  .row{
    display:flex;
    justify-content:space-between;
    margin:6px 0;
    font-size:13px;
  }

  .label{
    color:var(--muted);
  }

  .value{
    font-weight:600;
    color:var(--text);
  }

  /* EMERGENCY BUTTON */
  .danger-btn{
    margin:14px 0;
    width:100%;
    padding:16px;
    border:none;
    border-radius:14px;
    font-weight:700;
    font-size:15px;
    color:white;
    background:linear-gradient(145deg,#ef4444,#b91c1c);
    box-shadow:0 0 10px rgba(239,68,68,.4);
    cursor:pointer;
  }

  .danger-btn:hover{
    filter:brightness(1.15);
  }

  /* ACTIONS */
  .actions{
    display:flex;
    gap:10px;
    margin-bottom:20px;
  }

  .action{
    flex:1;
    padding:14px;
    border-radius:14px;
    background:rgba(15,23,42,.8);
    border:1px solid #1e293b;
    text-align:center;
    cursor:pointer;
    font-size:13px;
    font-weight:600;
    transition:.2s;
  }

  .action:hover{
    border-color:#60a5fa;
    color:#60a5fa;
  }

  .status{
    padding:14px;
    text-align:center;
    background:rgba(15,23,42,.75);
    border-radius:12px;
    border:1px solid #1e293b;
    margin-bottom:20px;
  }

  /* TIPS */
  .tips{
    padding:18px;
    border-radius:16px;
    background:rgba(15,23,42,.75);
    border:1px solid #1e293b;
    backdrop-filter:blur(8px);
  }

  .tips-title{
    font-size:15px;
    color:#60a5fa;
    font-weight:700;
    margin-bottom:10px;
  }

  .tip{
    font-size:13px;
    line-height:1.5;
    margin-bottom:10px;
    color:#d1d5db;
  }
</style>
</head>

<body>
<div class="wrap">

  <!-- HEADER -->
  <div class="hero">
    <h1>Hello, <span id="nameTag"></span></h1>
    <small>Stay safe. AeroReach is here ğŸ’™ğŸš</small>
  </div>

  <!-- PROFILE -->
  <div class="profile">
    <div class="row"><span class="label">Village</span><span class="value" id="village">â€”</span></div>
    <div class="row"><span class="label">Condition</span><span class="value" id="cond">â€”</span></div>
    <div class="row"><span class="label">GPS</span><span class="value" id="gps">Checkingâ€¦</span></div>
  </div>

  <!-- EMERGENCY -->
  <button class="danger-btn" onclick="goEmergency()">ğŸš¨ Report Emergency</button>

  <!-- ACTIONS -->
  <div class="actions">
    <div class="action" onclick="alert('Drone kits coming soon!')">ğŸ“¦ Medical Kit</div>
    <div class="action" onclick="alert('Medication request coming soon!')">ğŸ’Š Refill</div>
    <div class="action" onclick="alert('Nearby clinics coming soon!')">ğŸ¥ Clinics</div>
  </div>

  <!-- STATUS -->
  <div class="status" id="statusBox">No active emergency.</div>

  <!-- HEALTH TIPS -->
  <div class="tips">
    <div class="tips-title">Emergency First Aid</div>

    <div class="tip">ğŸ©¸ <b>Heavy bleeding:</b> Apply pressure, elevate, do not remove soaked bandages.</div>
    <div class="tip">ğŸŒ¬ï¸ <b>Asthma:</b> Sit upright, breathe slow, use inhaler (max 10 puffs).</div>
    <div class="tip">ğŸ¤’ <b>Fever:</b> Hydrate, rest. 38.5Â°C+ â†’ seek help.</div>
    <div class="tip">ğŸ”¥ <b>Burns:</b> Cool water 10â€“20 mins. Do not burst blisters.</div>
    <div class="tip">ğŸ‘¶ <b>Postpartum:</b> Heavy bleeding? Lie down, call clinic.</div>
    <div class="tip">ğŸ›‘ <b>GBV:</b> Get safe. Do not wash evidence. Seek help.</div>
  </div>

</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<script>
const config = {
  apiKey:"AIzaSyDgEH4QnHBLWzg54MNexYZJaATpRHFC_DA",
  authDomain:"aeroreach-5d4ae.firebaseapp.com",
  databaseURL:"https://aeroreach-5d4ae-default-rtdb.firebaseio.com",
  projectId:"aeroreach-5d4ae",
  storageBucket:"aeroreach-5d4ae.appspot.com",
  messagingSenderId:"477756305528",
  appId:"1:477756305528:web:470f50f591bee98e3e3d8d"
};
firebase.initializeApp(config);
const db = firebase.database();

/* --- AUTH CHECK --- */
const uid = localStorage.getItem("uid");
if(!uid) window.location="signup.html";

/* --- USER PROFILE --- */
db.ref("users/"+uid).once("value", snap=>{
  const d = snap.val();
  if(!d){
    window.location="signup.html";
    return;
  }
  nameTag.innerText = d.name;
  village.innerText = d.village;
  cond.innerText = d.medical;
  gps.innerText = d.gps ? "ğŸ“ Saved" : "No GPS saved";
});

/* --- EMERGENCY STATUS --- */
db.ref("alerts").orderByChild("userId").equalTo(uid).on("value",snap=>{
  if(!snap.exists()){
    statusBox.innerText="No active emergency.";
    return;
  }
  const arr=[];
  snap.forEach(x=>arr.push(x.val()));
  arr.sort((a,b)=>b.createdAt-a.createdAt);
  statusBox.innerText = "ğŸš " + arr[0].status;
});

/* --- NAV --- */
function goEmergency(){ window.location="emergency.html"; }
</script>

</body>
</html>
